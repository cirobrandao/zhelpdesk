{% extends 'layout.twig' %}

{% block content %}
<div class="d-flex justify-content-between align-items-center mb-3">
  <h2>{{ t('nav.tickets') }}</h2>
  <a class="btn btn-accent" href="/tickets/create">{{ t('tickets.create') }}</a>
</div>
<div class="card p-3">
  <table class="table">
    <thead>
      <tr>
        <th>{{ t('ui.id') }}</th>
        <th>{{ t('tickets.subject') }}</th>
        <th>{{ t('tickets.status') }}</th>
        <th>{{ t('tickets.priority') }}</th>
        <th>{{ t('ui.updated') }}</th>
      </tr>
    </thead>
    <tbody>
      {% for ticket in tickets %}
        <tr>
          <td>#{{ ticket.id }}</td>
          <td><a href="/tickets/{{ ticket.id }}">{{ ticket.subject }}</a></td>
          <td><span class="badge badge-status">{{ t('status.' ~ ticket.status) }}</span></td>
          <td>{{ t('priority.' ~ ticket.priority) }}</td>
          <td>{{ ticket.updated_at }}</td>
        </tr>
      {% else %}
        <tr><td colspan="5" class="text-muted">{{ t('ui.no_tickets') }}</td></tr>
      {% endfor %}
    </tbody>
  </table>
</div>
{% endblock %}
